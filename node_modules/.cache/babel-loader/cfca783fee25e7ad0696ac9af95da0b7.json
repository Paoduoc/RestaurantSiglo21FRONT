{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Draki\\\\Desktop\\\\Front\\\\Restaurant-front\\\\src\\\\components\\\\TableCrud\\\\TableForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useAlert } from 'react-alert';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport TableService, { getAllTables } from '../../services/tableService';\nimport { useDispatch } from 'react-redux';\nimport { setAllTables, setModalCrudVisibility } from '../../store/slices/tableSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TableForm = _ref => {\n  _s();\n\n  let {\n    _id,\n    numMesa,\n    cantSillas,\n    formType\n  } = _ref;\n  const dispatch = useDispatch();\n  const alert = useAlert();\n  const [tableNumber, setTableNumber] = useState(numMesa);\n  const [shairAmmount, setShairAmmount] = useState(cantSillas);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const updateAllTables = async () => {\n    const response = await getAllTables();\n\n    if (response.status === 200) {\n      dispatch(setAllTables(response.msg));\n    }\n  };\n\n  const handleAction = async () => {\n    if (isLoading === true) return;\n    setIsLoading(true);\n    const response = await TableService[`${formType}Table`]({\n      _id,\n      tableNumber,\n      shairAmmount\n    });\n\n    if (response.status >= 400 && response.status <= 499) {\n      alert.show(response.description, {\n        type: 'error'\n      });\n    }\n\n    if (response.status >= 200 && response.status <= 201) {\n      updateAllTables();\n      alert.show(`Mesa ${formType === 'create' ? 'creado' : 'modificada'} exitosamente!`, {\n        type: 'success'\n      });\n      dispatch(setModalCrudVisibility(false));\n    }\n\n    setIsLoading(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex column\",\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"form-label\",\n      children: \"Mesa Numero\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      value: tableNumber,\n      onChange: event => setTableNumber(event.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"form-label\",\n      children: \"Cantidad Sillas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      value: shairAmmount,\n      onChange: event => setShairAmmount(event.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: `btn btn-${formType === 'create' ? 'success' : 'warning'} mt-30`,\n      onClick: () => handleAction(),\n      children: formType === 'create' ? 'Crear' : 'Editar'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 7\n  }, this) // </div>\n  ;\n};\n\n_s(TableForm, \"joh9BCHAS5LAcAePeOlhsdtVdD8=\", false, function () {\n  return [useDispatch, useAlert];\n});\n\n_c = TableForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"TableForm\");","map":{"version":3,"names":["React","useState","useEffect","useAlert","TableService","getAllTables","useDispatch","setAllTables","setModalCrudVisibility","TableForm","_id","numMesa","cantSillas","formType","dispatch","alert","tableNumber","setTableNumber","shairAmmount","setShairAmmount","isLoading","setIsLoading","updateAllTables","response","status","msg","handleAction","show","description","type","event","target","value"],"sources":["C:/Users/Draki/Desktop/Front/Restaurant-front/src/components/TableCrud/TableForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useAlert } from 'react-alert'\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport TableService, { getAllTables } from '../../services/tableService'\r\nimport { useDispatch } from 'react-redux';\r\nimport { setAllTables, setModalCrudVisibility } from '../../store/slices/tableSlice'\r\n\r\nexport const TableForm = ({\r\n  _id,\r\n  numMesa,\r\n  cantSillas,\r\n  formType\r\n}) => {\r\n  const dispatch = useDispatch()\r\n  const alert = useAlert()\r\n\r\n  const [tableNumber, setTableNumber] = useState(numMesa)\r\n  const [shairAmmount, setShairAmmount] = useState(cantSillas)\r\n\r\n  const [isLoading, setIsLoading] = useState(false)\r\n\r\n  const updateAllTables = async () => {\r\n    const response = await getAllTables()\r\n    if (response.status === 200 ) {\r\n      dispatch(setAllTables(response.msg))\r\n    }\r\n  }\r\n\r\n  const handleAction = async () => {\r\n    if (isLoading === true) return\r\n    setIsLoading(true)\r\n    const response = await TableService[`${formType}Table`]({\r\n      _id,\r\n      tableNumber,\r\n      shairAmmount,\r\n    })\r\n    if (response.status >= 400 && response.status <= 499) {\r\n      alert.show(response.description, {\r\n        type: 'error'\r\n      })\r\n    }\r\n    if (response.status >= 200 && response.status <= 201) {\r\n      updateAllTables()\r\n      alert.show(`Mesa ${formType === 'create' ? 'creado' : 'modificada'} exitosamente!`, {\r\n        type: 'success'\r\n      })\r\n      dispatch(setModalCrudVisibility(false))\r\n    }\r\n    setIsLoading(false)\r\n  }\r\n\r\n  return (\r\n      <div className='flex column'>\r\n        <label className='form-label'>Mesa Numero</label>\r\n        <input className='form-control' type=\"text\" value={tableNumber} onChange={(event) => setTableNumber(event.target.value)} />\r\n        <label className='form-label'>Cantidad Sillas</label>\r\n        <input className='form-control' type=\"text\" value={shairAmmount} onChange={(event) => setShairAmmount(event.target.value)} />\r\n        \r\n        <button\r\n          className={`btn btn-${formType === 'create' ? 'success' : 'warning'} mt-30`}\r\n          onClick={() => handleAction()}\r\n        >{formType === 'create' ? 'Crear' : 'Editar'}</button>\r\n      </div>\r\n    // </div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}