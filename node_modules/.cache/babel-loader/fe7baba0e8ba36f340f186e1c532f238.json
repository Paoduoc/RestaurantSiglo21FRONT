{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Draki\\\\Desktop\\\\Front\\\\Restaurant-front\\\\src\\\\components\\\\UserCrud\\\\UserDialog.js\",\n    _s = $RefreshSig$();\n\nimport Modal from 'react-bootstrap/Modal';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { resetSelectedUser, setModalCrudVisibility } from '../../store/slices/userSlice';\nimport { UserForm } from './UserForm';\nimport { getAllRoles } from '../../services/rolService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const UserDialog = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    modalCrudVisibility: show,\n    selectedUser,\n    formType\n  } = useSelector(state => state.user);\n  const [roles, setRoles] = useState([]);\n\n  const handleClose = () => {\n    dispatch(setModalCrudVisibility(false));\n    dispatch(resetSelectedUser());\n  };\n\n  const getRoles = async () => {\n    const response = await getAllRoles();\n\n    if (response.status === 200) {\n      setRoles(response.msg);\n    }\n  }; // aqui cargamos los roles\n\n\n  useEffect(() => {\n    getRoles();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: handleClose,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: [formType === 'create' ? 'Crear' : 'Editar', \" usuario\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(UserForm, { ...selectedUser,\n          rol: selectedUser.rol._id,\n          fechaCumpleannos: new Date(),\n          formType: formType,\n          roles: roles\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(UserDialog, \"JowFVU6NjrbZkx376eWfuAi/1Sg=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = UserDialog;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserDialog\");","map":{"version":3,"names":["Modal","React","useEffect","useState","useDispatch","useSelector","resetSelectedUser","setModalCrudVisibility","UserForm","getAllRoles","UserDialog","dispatch","modalCrudVisibility","show","selectedUser","formType","state","user","roles","setRoles","handleClose","getRoles","response","status","msg","rol","_id","Date"],"sources":["C:/Users/Draki/Desktop/Front/Restaurant-front/src/components/UserCrud/UserDialog.js"],"sourcesContent":["import Modal from 'react-bootstrap/Modal';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { resetSelectedUser, setModalCrudVisibility } from '../../store/slices/userSlice'\r\nimport { UserForm } from './UserForm'\r\nimport { getAllRoles } from '../../services/rolService';\r\n\r\nexport const UserDialog = () => {\r\n  const dispatch = useDispatch()\r\n  const {\r\n    modalCrudVisibility: show,\r\n    selectedUser,\r\n    formType\r\n  } = useSelector((state) => state.user)\r\n\r\n  const [roles, setRoles] = useState([])\r\n\r\n  const handleClose = () => {\r\n    dispatch(setModalCrudVisibility(false))\r\n    dispatch(resetSelectedUser())\r\n  }\r\n\r\n  const getRoles = async () => {\r\n    const response = await getAllRoles()\r\n    if (response.status === 200) {\r\n      setRoles(response.msg)\r\n    }\r\n  }\r\n\r\n  // aqui cargamos los roles\r\n  useEffect(() => {\r\n    getRoles()\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>{formType === 'create' ? 'Crear' : 'Editar'} usuario</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <UserForm\r\n            {\r\n              ...selectedUser\r\n            }\r\n            rol={selectedUser.rol._id}\r\n            fechaCumpleannos={new Date()}\r\n            formType={formType}\r\n            roles={roles}\r\n          />\r\n        </Modal.Body>\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,uBAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,iBAAT,EAA4BC,sBAA5B,QAA0D,8BAA1D;AACA,SAASC,QAAT,QAAyB,YAAzB;AACA,SAASC,WAAT,QAA4B,2BAA5B;;;AAEA,OAAO,MAAMC,UAAU,GAAG,MAAM;EAAA;;EAC9B,MAAMC,QAAQ,GAAGP,WAAW,EAA5B;EACA,MAAM;IACJQ,mBAAmB,EAAEC,IADjB;IAEJC,YAFI;IAGJC;EAHI,IAIFV,WAAW,CAAEW,KAAD,IAAWA,KAAK,CAACC,IAAlB,CAJf;EAMA,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,CAAC,EAAD,CAAlC;;EAEA,MAAMiB,WAAW,GAAG,MAAM;IACxBT,QAAQ,CAACJ,sBAAsB,CAAC,KAAD,CAAvB,CAAR;IACAI,QAAQ,CAACL,iBAAiB,EAAlB,CAAR;EACD,CAHD;;EAKA,MAAMe,QAAQ,GAAG,YAAY;IAC3B,MAAMC,QAAQ,GAAG,MAAMb,WAAW,EAAlC;;IACA,IAAIa,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;MAC3BJ,QAAQ,CAACG,QAAQ,CAACE,GAAV,CAAR;IACD;EACF,CALD,CAf8B,CAsB9B;;;EACAtB,SAAS,CAAC,MAAM;IACdmB,QAAQ;EACT,CAFQ,EAEN,EAFM,CAAT;EAIA,oBACE;IAAA,uBACE,QAAC,KAAD;MAAO,IAAI,EAAER,IAAb;MAAmB,MAAM,EAAEO,WAA3B;MAAA,wBACE,QAAC,KAAD,CAAO,MAAP;QAAc,WAAW,MAAzB;QAAA,uBACE,QAAC,KAAD,CAAO,KAAP;UAAA,WAAcL,QAAQ,KAAK,QAAb,GAAwB,OAAxB,GAAkC,QAAhD;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QADF,eAIE,QAAC,KAAD,CAAO,IAAP;QAAA,uBACE,QAAC,QAAD,OAEOD,YAFP;UAIE,GAAG,EAAEA,YAAY,CAACW,GAAb,CAAiBC,GAJxB;UAKE,gBAAgB,EAAE,IAAIC,IAAJ,EALpB;UAME,QAAQ,EAAEZ,QANZ;UAOE,KAAK,EAAEG;QAPT;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QAJF;IAAA;MAAA;MAAA;MAAA;IAAA;EADF,iBADF;AAoBD,CA/CM;;GAAMR,U;UACMN,W,EAKbC,W;;;KANOK,U"},"metadata":{},"sourceType":"module"}